<% var gross_weight=product.operating_weight + 65; var axle_motor_rev=(product.pump_displacement_travel *
    product.motor_eff_travel/ product.motor_displacement_travel* 1000).toFixed(); var travel_speed=(2 * Math.PI *
    axle_motor_rev * product.tire_rolling_radius /1000 * 60 /(product.TM_reduction * product.axle_reduction *
    10**3)).toFixed(); 
    
    const radians_to_degrees=(radians)=> {
    var pi = Math.PI;
    return radians * (180/pi);
    }

    const degrees_to_radians=(degrees)=> {
    var pi = Math.PI;
    return degrees / (180/pi);
    }


    var noslip_slope = (radians_to_degrees(Math.atan(product.friction_surface))).toFixed(2);
    var traction_slope = (radians_to_degrees(Math.asin((product.traction_force - product.running_resist *
    gross_weight)/gross_weight))).toFixed(2);
    var min_slope = Math.min(product.engine_slope, noslip_slope, traction_slope);


var innerKingpin_COS = Math.round(product.wheel_base / Math.sin(degrees_to_radians(product.wheel_angle)));
var outer_rim_minRadius = Math.round(innerKingpin_COS + product.kingpin_offset);
var turning_radius = Math.ceil(outer_rim_minRadius*1.05 / 1000) * 1000; // 1000 단위로 올림
    %>




<!-- ===============================================-->
<!--    주행 능력    -->
<!-- ===============================================-->
<div class="pages" id="Travel_Speed">
    <table class="bordertable">
        <tr class="borderheader">
            <td height="30mm">주행 속도</td>
        </tr>

        <tr>
            <td class="head_description">
                <p>“최고속도”란 평탄하고 건조한 아스팔트 포장노면에서 운전중량 상태의 건설기계가 주행할 수 있는 최고속도를 말한다.</p>
                <p>▷ 아래 계산 결과에 따라 <strong> 최고 주행 속도는 <%= travel_speed %>㎞/h</strong></p>
                <p>○ 주행 성능 관련 사양</p>

                <table class="innertable" width="90%" height="300px">
                    <thead>
                        <tr>
                            <th>항목</th>
                            <th>기호</th>
                            <th>단위</th>
                            <th>제원</th>
                            <th>비고</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>주행 펌프 유량</td>
                            <td>$$Q$$</td>
                            <td>l/min</td>
                            <td>
                                <%= product.pump_displacement_travel %>
                            </td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>주행 모터 이론 용적</td>
                            <td>$$q$$</td>
                            <td>cc/rev</td>
                            <td>
                                <%= product.motor_displacement_travel %>
                            </td>
                            <td>고속주행 </td>
                        </tr>
                        <tr>
                            <td>주행 모터 용적 효율</td>
                            <td>$$mu_{mv}$$</td>
                            <td>%</td>
                            <td>
                                <%= product.motor_eff_travel %>
                            </td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>트랜스미션 감속비</td>
                            <td>$$I_t$$</td>
                            <td></td>
                            <td>
                                <%= product.TM_reduction %>
                            </td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>액슬 감속비</td>
                            <td>$$I_r$$</td>
                            <td></td>
                            <td>
                                <%= product.axle_reduction %>
                            </td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>타이어 동하중 반경</td>
                            <td>$$R$$</td>
                            <td>㎜</td>
                            <td>
                                <%= product.tire_rolling_radius %>
                            </td>
                            <td></td>
                        </tr>
                    </tbody>

                </table>
                <p>○ 주행 속도 계산</p>
                <table class="innertable" width="90%" height="300px">
                    <thead>
                        <tr>
                            <th>항목</th>
                            <th>산식</th>
                            <th></th>
                            <th>제원</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>주행모터 축 회전수</td>
                            <td>$$SM_1 = \frac{Q \cdot \mu_{mv}}{q} \times 1000$$</td>
                            <td>$$ \frac{ <%= product.pump_displacement_travel %> \cdot <%= product.motor_eff_travel
                                            %>
                                }{ <%= product.motor_displacement_travel %> } \times 1000$$</td>
                            <td>
                                <%= axle_motor_rev %>
                            </td>
                        </tr>
                        <tr>
                            <td>주행속도</td>
                            <td>$$V_1 = \frac {SM_1 \times 2\pi R \times 60}{I_t \times I_r \times 10^3}$$</td>
                            <td>$$ \frac {<%= axle_motor_rev %> \times 2\pi \times
                                <%= product.tire_rolling_radius / 1000 %> \times 60}{ <%= product.TM_reduction
                                                %> \times
                                <%= product.axle_reduction %> \times 10^3}$$</td>
                            <td>
                                <%= travel_speed %>
                            </td>
                        </tr>
                    </tbody>
                </table>



            </td>
        </tr>
    </table>
</div>



<!-- ===============================================-->
<!--    경사지 등판 능력    -->
<!-- ===============================================-->
<div class="pages" id="Greadability_traction">
    <table class="bordertable">
        <tr class="borderheader">
            <td height="30mm">경사지 등판 및 제동 능력</td>
        </tr>

        <tr>
            <td class="head_description">
                <p>
                    굴착기는 100분의 25(무한궤도식 굴착기는 100분의 30을 말한다) 기울기의 견고한 건조 지면을 올라갈 수 있고, 정지상태를 유지할
                    수 있는 제동장치 및 제동장금장치를
                    갖추어야 한다.
                </p>
                <p>○ 등판능력 관련 제원</p>


                <table class="innertable" width="60%" height="300px">
                    <thead>
                        <tr>
                            <th>항목</th>
                            <th>기호</th>
                            <th>단위</th>
                            <th>제원</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>전장비중량</td>
                            <td>$$W_T$$</td>
                            <td>Kgf</td>
                            <td>
                                <%= gross_weight %>
                            </td>
                        </tr>
                        <tr>
                            <td>견인력</td>
                            <td>$$DP$$</td>
                            <td>Kgf</td>
                            <td>
                                <%= product.traction_force %>
                            </td>
                        </tr>
                        <tr>
                            <td>지면마찰계수</td>
                            <td>$$\mu$$</td>
                            <td></td>
                            <td>
                                <%= product.friction_surface %>
                            </td>
                        </tr>
                        <tr>
                            <td>주행저항계수</td>
                            <td>$$\xi$$</td>
                            <td></td>
                            <td>
                                <%= product.running_resist %>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <p>○ 등판 및 유지 경사각 계산</p>

                <table class="innertable" width="90%" height="300px">

                    <tbody>
                        <tr>
                            <td colspan="3">미끄러지지 않는 최대 경사각 (마찰력)</td>
                        </tr>
                        <tr>
                            <td>$$\mu \cdot W_T \cdot \cos \theta_1 = W_T \cdot \sin \theta_1$$</td>
                            <td>$$\theta_1 = \tan^{-1} 0.90$$</td>
                            <td>
                                <%= noslip_slope %>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3">흘러내리지 않는 최대 경사각 (견인력)</td>

                        </tr>
                        <tr>
                            <td>$$DP-\xi W_T = W_T \cdot \sin \theta_2$$</td>
                            <td>$$\theta_2 = \sin ^{-1} \frac{<%= product.traction_force %> - <%=
                                            product.running_resist %> \cdot <%= gross_weight %>}{<%= gross_weight %>}$$
                            </td>
                            <td>
                                <%= traction_slope %>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3">엔진 오일 팬 기준 경사각</td>

                        </tr>
                        <tr>
                            <td>엔진 제원 사양</td>
                            <td>
                            </td>
                            <td>
                                $$<%= product.engine_slope %>$$
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3">최종 경사각</td>
                        </tr>
                        <tr>
                            <td colspan="2" height="100px">위 3 가지 경사각 사양 중 가장 작은 값</td>
                            <td>
                                $$<%= min_slope %>$$
                            </td>
                        </tr>
                    </tbody>
                </table>

            </td>
        </tr>
    </table>
</div>


<!-- ===============================================-->
<!--    경사지 전도안정성    -->
<!-- ===============================================-->
<div class="pages" id="Stability_Slope">
    <table class="bordertable">
        <tr class="borderheader">
            <td height="30mm">좌우의 안정도</td>
        </tr>

        <tr>
            <td class="head_description">
                <p>
                    타이어식 굴착기는 견고한 땅 위에서 자체중량 상태로 좌우로 25도까지 기울여도 넘어지지 않는 구조이어야 한다. 이 경우 굴착기의 자세는 주행자세로 한다. 
                </p>
                <p>○ 측방안정도 관련 제원</p>


                <table class="innertable" width="60%" height="300px">
                    <thead>
                        <tr>
                            <th>항목</th>
                            <th>기호</th>
                            <th>단위</th>
                            <th>제원</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>전장비중량</td>
                            <td>$$W_T$$</td>
                            <td>Kgf</td>
                            <td>
                                <%= gross_weight %>
                            </td>
                        </tr>
                        <tr>
                            <td>견인력</td>
                            <td>$$DP$$</td>
                            <td>Kgf</td>
                            <td>
                                <%= product.traction_force %>
                            </td>
                        </tr>
                        <tr>
                            <td>지면마찰계수</td>
                            <td>$$\mu$$</td>
                            <td></td>
                            <td>
                                <%= product.friction_surface %>
                            </td>
                        </tr>
                        <tr>
                            <td>주행저항계수</td>
                            <td>$$\xi$$</td>
                            <td></td>
                            <td>
                                <%= product.running_resist %>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <p>○ 등판 및 유지 경사각 계산</p>

                <table class="innertable" width="90%" height="300px">

                    <tbody>
                        <tr>
                            <td colspan="3">미끄러지지 않는 최대 경사각 (마찰력)</td>
                        </tr>
                        <tr>
                            <td>$$\mu \cdot W_T \cdot \cos \theta_1 = W_T \cdot \sin \theta_1$$</td>
                            <td>$$\theta_1 = \tan^{-1} 0.90$$</td>
                            <td>
                                <%= noslip_slope %>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3">흘러내리지 않는 최대 경사각 (견인력)</td>

                        </tr>
                        <tr>
                            <td>$$DP-\xi W_T = W_T \cdot \sin \theta_2$$</td>
                            <td>$$\theta_2 = \sin ^{-1} \frac{<%= product.traction_force %> - <%=
                                            product.running_resist %> \cdot <%= gross_weight %>}{<%= gross_weight %>}$$
                            </td>
                            <td>
                                <%= traction_slope %>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3">엔진 오일 팬 기준 경사각</td>

                        </tr>
                        <tr>
                            <td>엔진 제원 사양</td>
                            <td>
                            </td>
                            <td>
                                $$<%= product.engine_slope %>$$
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3">최종 경사각</td>
                        </tr>
                        <tr>
                            <td colspan="2" height="100px">위 3 가지 경사각 사양 중 가장 작은 값</td>
                            <td>
                                $$<%= min_slope %>$$
                            </td>
                        </tr>
                    </tbody>
                </table>

            </td>
        </tr>
    </table>
</div>


<!-- ===============================================-->
<!--    최소 회전 반경    -->
<!-- ===============================================-->
<div class="pages" id="Turning_radius">
    <table class="bordertable">
        <tr class="borderheader">
            <td height="30mm">최소회전반경</td>
        </tr>

        <tr>
            <td class="head_description">
                <p>
                    “최소회전반경”이란 수평면에 놓인 건설기계가 선회할 때 바퀴 또는 기동륜의 중심이 그리는 원형 궤적 가운데 가장 큰 반지름을 가지는 궤적의 반지름을 말한다.
                </p>
                <p>○ 최소회전반경 관련 제원</p>


                <table class="innertable" width="60%" height="300px">
                    <thead>
                        <tr>
                            <th>항목</th>
                            <th>기호</th>
                            <th>단위</th>
                            <th>제원</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>축간거리</td>
                            <td>$$A$$</td>
                            <td>㎜</td>
                            <td>
                                <%= product.wheel_base %>
                            </td>
                        </tr>
                        <tr>
                            <td>킹핀 (스티어링핀) 간 거리</td>
                            <td>$$L$$</td>
                            <td>㎜</td>
                            <td>
                                <%= product.kingpin_gap %>
                            </td>
                        </tr>
                        <tr>
                            <td>킹핀 - 타이어 중심 간 거리</td>
                            <td>$$d$$</td>
                            <td>㎜</td>
                            <td>
                                <%= product.kingpin_offset %>
                            </td>
                        </tr>
                        <tr>
                            <td>외륜 최대 조향각</td>
                            <td>$$a$$</td>
                            <td>deg</td>
                            <td>
                                <%= product.wheel_angle %>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <p>○ 주행 회전 반경 계산</p>

                <table class="innertable" width="90%" height="300px">

                    <tbody>
                        <tr>
                            <td colspan="3">내륜 킹핀과 선회 중심 간 거리</td>
                        </tr>
                        <tr>
                            <td>$$X=\frac{A}{\sin \alpha}$$</td>
                            <td>$$\frac{<%= product.wheel_base %>}{\sin <%= product.wheel_angle %>° }$$</td>
                            <td><%= innerKingpin_COS %> </td>
                        </tr>
                        <tr>
                            <td colspan="3">외륜 최소 회전 반경</td>

                        </tr>
                        <tr>
                            <td>$$R=X+d$$</td>
                            <td>$$<%= innerKingpin_COS %> + <%= product.kingpin_offset %>$$</td>
                            <td><%= outer_rim_minRadius %> </td>

                        </tr>

                        <tr>
                            <td colspan="3">최종 회전 반경</td>
                        </tr>
                        <tr>
                            <td colspan="2" height="100px">경험치에 따른 슬립 5% 추가</td>
                            <td>
                                $$<%= turning_radius %>$$
                            </td>
                        </tr>
                    </tbody>
                </table>

            </td>
        </tr>
    </table>
</div>