<!-- ===============================================-->
<!--    전도하중과 무게중심    -->
<!-- ===============================================-->
<% var gross_weight = product.operating_weight + 65;
var upperStructure_weight = gross_weight - product.COG.counterWeight.weight - product.COG.underCarriage.weight - product.COG.attachments.weight %>
<% var COG_longitudinal = ((upperStructure_weight*product.COG.upperStructure.longitudinal+product.COG.counterWeight.weight*product.COG.counterWeight.longitudinal+product.COG.underCarriage.weight*product.COG.underCarriage.longitudinal+product.COG.attachments.weight*product.COG.attachments.longitudinal)/ gross_weight).toFixed(1); %>
<% var COG_lateral = ((upperStructure_weight*product.COG.upperStructure.lateral+product.COG.counterWeight.weight*product.COG.counterWeight.lateral+product.COG.underCarriage.weight*product.COG.underCarriage.lateral+product.COG.attachments.weight*product.COG.attachments.lateral)/ gross_weight).toFixed(1); %>
<% var COG_vertical = ((upperStructure_weight*product.COG.upperStructure.vertical+product.COG.counterWeight.weight*product.COG.counterWeight.vertical+product.COG.underCarriage.weight*product.COG.underCarriage.vertical+product.COG.attachments.weight*product.COG.attachments.vertical)/ gross_weight).toFixed(1); %>


<div class="card mb-3">
    <div class="card-body bg-light">

        <hr />

        <table class="table table-bordered mt-2 bg-white dark__bg-1100">
            <thead>
                <tr>
                    <th scope="col" style="width: 20%">Component</th>
                    <th scope="col">중 량 (㎏)</th>
                    <th scope="col">전후방향(X)</th>
                    <th scope="col">좌우방향(Y)</th>
                    <th scope="col">상하방향(Z)</th>
                    <th scope="col" style="width: 20%">비고</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="col-1 text-5">상 부 체</td>
                    <td><input class="form-control form-control-sm" type="Number" placeholder="kg" value="<% if (editing){ %><%= upperStructure_weight %><% } %>" disabled />
                    </td>
                    <td><input class="form-control form-control-sm" type="Number" name="COG_upperStructure_longitudinal" placeholder="㎜" value="<% if (editing){ %><%= product.COG.upperStructure.longitudinal %><% } %>" /></td>
                    <td><input class="form-control form-control-sm" type="Number" name="COG_upperStructure_lateral" placeholder="㎜" value="<% if (editing){ %><%= product.COG.upperStructure.lateral %><% } %>" /></td>
                    <td><input class="form-control form-control-sm" type="Number" name="COG_upperStructure_vertical" placeholder="㎜" value="<% if (editing){ %><%= product.COG.upperStructure.vertical %><% } %>" /></td>
                    <td>Operator: 65kg</td>
                </tr>
                <tr>
                    <td>CounterWeight</td>
                    <td><input class="form-control form-control-sm" type="Number" name="COG_counterWeight_weight" placeholder="kg" value="<% if (editing){ %><%= product.COG.counterWeight.weight %><% } %>" /></td>
                    <td><input class="form-control form-control-sm" type="Number" name="COG_counterWeight_longitudinal" placeholder="㎜" value="<% if (editing){ %><%= product.COG.counterWeight.longitudinal %><% } %>" /></td>
                    <td><input class="form-control form-control-sm" type="Number" name="COG_counterWeight_lateral" placeholder="㎜" value="<% if (editing){ %><%= product.COG.counterWeight.lateral %><% } %>" /></td>
                    <td><input class="form-control form-control-sm" type="Number" name="COG_counterWeight_vertical" placeholder="㎜" value="<% if (editing){ %><%= product.COG.counterWeight.vertical %><% } %>" /></td>
                    <td></td>
                </tr>
                <tr>
                    <td>하 부 체</td>
                    <td><input class="form-control form-control-sm" type="Number" name="COG_underCarriage_weight" placeholder="kg" value="<% if (editing){ %><%= product.COG.underCarriage.weight %><% } %>" /></td>
                    <td><input class="form-control form-control-sm" type="Number" name="COG_underCarriage_longitudinal" placeholder="㎜" value="<% if (editing){ %><%= product.COG.underCarriage.longitudinal %><% } %>" /></td>
                    <td><input class="form-control form-control-sm" type="Number" name="COG_underCarriage_lateral" placeholder="㎜" value="<% if (editing){ %><%= product.COG.underCarriage.lateral %><% } %>" /></td>
                    <td><input class="form-control form-control-sm" type="Number" name="COG_underCarriage_vertical" placeholder="㎜" value="<% if (editing){ %><%= product.COG.underCarriage.vertical %><% } %>" /></td>
                    <td></td>
                </tr>
                <tr>
                    <td>작업장치</td>
                    <td><input class="form-control form-control-sm" type="Number" name="COG_attachments_weight" placeholder="kg" value="<% if (editing){ %><%= product.COG.attachments.weight %><% } %>" /></td>
                    <td><input class="form-control form-control-sm" type="Number" name="COG_attachments_longitudinal" placeholder="㎜" value="<% if (editing){ %><%= product.COG.attachments.longitudinal %><% } %>" /></td>
                    <td><input class="form-control form-control-sm" type="Number" name="COG_attachments_lateral" placeholder="㎜" value="<% if (editing){ %><%= product.COG.attachments.lateral %><% } %>" /></td>
                    <td><input class="form-control form-control-sm" type="Number" name="COG_attachments_vertical" placeholder="㎜" value="<% if (editing){ %><%= product.COG.attachments.vertical %><% } %>" /></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Total</td>
                    <td><input class="form-control form-control-sm" type="Number" placeholder="kg"
                            value="<% if (editing){ %><%= gross_weight %><% } %>" disabled /></td>
                    <td><input class="form-control form-control-sm" type="Number" placeholder="㎜" value="<% if (editing){ %><%= COG_longitudinal %><% } %>" disabled /></td>
                    <td><input class="form-control form-control-sm" type="Number" placeholder="㎜" value="<% if (editing){ %><%= COG_lateral %><% } %>" disabled /></td>
                    <td><input class="form-control form-control-sm" type="Number" placeholder="㎜" value="<% if (editing){ %><%= COG_vertical %><% } %>" disabled /></td>
                    <td></td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="card-body bg-light">

        <h5 class="mb-3">전도하중과 무게중심</h5>
        <div class="row gx-2">
            <div class="input-group mb-3">
                <span class="input-group-text">무게중심 (Y / Z)</span>
                <input class="form-control" id="COG_lateral" name="COG_lateral" type="text"
                    value="<% if (editing){ %><%= product.COG_lateral %><% } %>" placeholder="Y축 방향 무게중심" />
                <input class="form-control" id="COG_vertical" name="COG_vertical" type="text"
                    value="<% if (editing){ %><%= product.COG_vertical %><% } %>" placeholder="Z축 방향 무게중심" />
            </div>

            <div class="input-group mb-3">
                <span class="input-group-text">최대굴착거리</span>
                <input class="form-control" id="bucket_COS" name="bucket_COS" type="number"
                    value="<% if (editing){ %><%= product.bucket_COS %><% } %>" placeholder="최대굴착시 버켓 반경 (㎜)" />
                <span class="input-group-text">전도지선</span>
                <input class="form-control" id="tipping_line" name="tipping_line" type="number"
                    value="<% if (editing){ %><%= product.tipping_line %><% } %>" placeholder="전도지선 (㎜)" />
            </div>

        </div>


    </div>
</div>